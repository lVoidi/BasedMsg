// See https://aka.ms/new-console-template for more information
using System.Net;
class OpenClient
{
    static void Main(string[] args)
    {
	int port = 8080;
	if (args[0] == "port"){
		try 
		{
			port = Int32.Parse(args[1]);
		}
		catch (FormatException) 
		{
			Console.WriteLine("Especificar un puerto válido");
			Environment.Exit(0);
		}
	} else {
		Console.WriteLine("Argumento no reconocido");
		Environment.Exit(0);
	}

	Console.WriteLine("[OK] Abriendo puerto {0}", port);
	var hostName = Dns.GetHostName();
	IPHostEntry localhost = await Dns.GetHostEntryAsync(hostName);
	IPAddress IpAddress = localhost.AddressList[0];
	Console.WriteLine(IpAddress);

    }
}
